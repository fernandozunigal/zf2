/*!
	Colorbox v1.4.33 - 2013-10-31
	jQuery lightbox and modal window plugin
	(c) 2013 Jack Moore - http://www.jacklmoore.com/colorbox
	license: http://www.opensource.org/licenses/mit-license.php

	Pcg customization: added onInit event handler
	Minified with: http://skalman.github.io/UglifyJS-online/
*/
(function(t,e,i){function o(i,o,n){var r=e.createElement(i);return o&&(r.id=Z+o),n&&(r.style.cssText=n),t(r)}function n(){return i.innerHeight?i.innerHeight:t(i).height()}function r(t){var e=k.length,i=(z+t)%e;return 0>i?e+i:i}function h(t,e){return Math.round((/%/.test(t)?("x"===e?E.width():n())/100:1)*parseInt(t,10))}function l(t,e){return t.photo||t.photoRegex.test(e)}function s(t,e){return t.retinaUrl&&i.devicePixelRatio>1?e.replace(t.photoRegex,t.retinaSuffix):e}function a(t){"contains"in g[0]&&!g[0].contains(t.target)&&(t.stopPropagation(),g.focus())}function d(){var e,i=t.data(N,Y);null==i?(_=t.extend({},X),console&&console.log&&console.log("Error: cboxElement missing settings object")):_=t.extend({},i);for(e in _)t.isFunction(_[e])&&"on"!==e.slice(0,2)&&(_[e]=_[e].call(N));_.rel=_.rel||N.rel||t(N).data("rel")||"nofollow",_.href=_.href||t(N).attr("href"),_.title=_.title||N.title,"string"==typeof _.href&&(_.href=t.trim(_.href))}function c(i,o){t(e).trigger(i),se.triggerHandler(i),t.isFunction(o)&&o.call(N)}function u(i){q||(N=i,d(),k=t(N),z=0,"nofollow"!==_.rel&&(k=t("."+te).filter(function(){var e,i=t.data(this,Y);return i&&(e=t(this).data("rel")||i.rel||this.rel),e===_.rel}),z=k.index(N),-1===z&&(k=k.add(N),z=k.length-1)),w.css({opacity:parseFloat(_.opacity),cursor:_.overlayClose?"pointer":"auto",visibility:"visible"}).show(),J&&g.add(w).removeClass(J),_.className&&g.add(w).addClass(_.className),J=_.className,_.closeButton?K.html(_.close).appendTo(y):K.appendTo("<div/>"),U||(c(ee,_.onInit),U=$=!0,g.css({visibility:"hidden",display:"block"}),H=o(ae,"LoadedContent","width:0; height:0; overflow:hidden"),y.css({width:"",height:""}).append(H),B=x.height()+C.height()+y.outerHeight(!0)-y.height(),O=b.width()+T.width()+y.outerWidth(!0)-y.width(),D=H.outerHeight(!0),A=H.outerWidth(!0),_.w=h(_.initialWidth,"x"),_.h=h(_.initialHeight,"y"),H.css({width:"",height:_.h}),Q.position(),c(ie,_.onOpen),P.add(L).hide(),g.focus(),_.trapFocus&&e.addEventListener&&(e.addEventListener("focus",a,!0),se.one(he,function(){e.removeEventListener("focus",a,!0)})),_.returnFocus&&se.one(he,function(){t(N).focus()})),m())}function f(){!g&&e.body&&(V=!1,E=t(i),g=o(ae).attr({id:Y,"class":t.support.opacity===!1?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),w=o(ae,"Overlay").hide(),F=t([o(ae,"LoadingOverlay")[0],o(ae,"LoadingGraphic")[0]]),v=o(ae,"Wrapper"),y=o(ae,"Content").append(L=o(ae,"Title"),S=o(ae,"Current"),R=t('<button type="button"/>').attr({id:Z+"Previous"}),M=t('<button type="button"/>').attr({id:Z+"Next"}),I=o("button","Slideshow"),F),K=t('<button type="button"/>').attr({id:Z+"Close"}),v.append(o(ae).append(o(ae,"TopLeft"),x=o(ae,"TopCenter"),o(ae,"TopRight")),o(ae,!1,"clear:left").append(b=o(ae,"MiddleLeft"),y,T=o(ae,"MiddleRight")),o(ae,!1,"clear:left").append(o(ae,"BottomLeft"),C=o(ae,"BottomCenter"),o(ae,"BottomRight"))).find("div div").css({"float":"left"}),W=o(ae,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),P=M.add(R).add(S).add(I),t(e.body).append(w,g.append(v,W)))}function p(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),u(this))}return g?(V||(V=!0,M.click(function(){Q.next()}),R.click(function(){Q.prev()}),K.click(function(){Q.close()}),w.click(function(){_.overlayClose&&Q.close()}),t(e).bind("keydown."+Z,function(t){var e=t.keyCode;U&&_.escKey&&27===e&&(t.preventDefault(),Q.close()),U&&_.arrowKey&&k[1]&&!t.altKey&&(37===e?(t.preventDefault(),R.click()):39===e&&(t.preventDefault(),M.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+Z,"."+te,i):t("."+te).live("click."+Z,i)),!0):!1}function m(){var n,r,a,u=Q.prep,f=++de;$=!0,j=!1,N=k[z],d(),c(le),c(oe,_.onLoad),_.h=_.height?h(_.height,"y")-D-B:_.innerHeight&&h(_.innerHeight,"y"),_.w=_.width?h(_.width,"x")-A-O:_.innerWidth&&h(_.innerWidth,"x"),_.mw=_.w,_.mh=_.h,_.maxWidth&&(_.mw=h(_.maxWidth,"x")-A-O,_.mw=_.w&&_.w<_.mw?_.w:_.mw),_.maxHeight&&(_.mh=h(_.maxHeight,"y")-D-B,_.mh=_.h&&_.h<_.mh?_.h:_.mh),n=_.href,G=setTimeout(function(){F.show()},100),_.inline?(a=o(ae).hide().insertBefore(t(n)[0]),se.one(le,function(){a.replaceWith(H.children())}),u(t(n))):_.iframe?u(" "):_.html?u(_.html):l(_,n)?(n=s(_,n),j=e.createElement("img"),t(j).addClass(Z+"Photo").bind("error",function(){_.title=!1,u(o(ae,"Error").html(_.imgError))}).one("load",function(){var e;f===de&&(t.each(["alt","longdesc","aria-describedby"],function(e,i){var o=t(N).attr(i)||t(N).attr("data-"+i);o&&j.setAttribute(i,o)}),_.retinaImage&&i.devicePixelRatio>1&&(j.height=j.height/i.devicePixelRatio,j.width=j.width/i.devicePixelRatio),_.scalePhotos&&(r=function(){j.height-=j.height*e,j.width-=j.width*e},_.mw&&j.width>_.mw&&(e=(j.width-_.mw)/j.width,r()),_.mh&&j.height>_.mh&&(e=(j.height-_.mh)/j.height,r())),_.h&&(j.style.marginTop=Math.max(_.mh-j.height,0)/2+"px"),k[1]&&(_.loop||k[z+1])&&(j.style.cursor="pointer",j.onclick=function(){Q.next()}),j.style.width=j.width+"px",j.style.height=j.height+"px",setTimeout(function(){u(j)},1))}),setTimeout(function(){j.src=n},1)):n&&W.load(n,_.data,function(e,i){f===de&&u("error"===i?o(ae,"Error").html(_.xhrError):t(this).contents())})}var w,g,v,y,x,b,T,C,k,E,H,W,F,L,S,I,M,R,K,P,_,B,O,D,A,N,z,j,U,$,q,G,Q,J,V,X={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onInit:!1,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1},Y="colorbox",Z="cbox",te=Z+"Element",ee=Z+"_init",ie=Z+"_open",oe=Z+"_load",ne=Z+"_complete",re=Z+"_cleanup",he=Z+"_closed",le=Z+"_purge",se=t("<a/>"),ae="div",de=0,ce={},ue=function(){function t(){clearTimeout(h)}function e(){(_.loop||k[z+1])&&(t(),h=setTimeout(Q.next,_.slideshowSpeed))}function i(){I.html(_.slideshowStop).unbind(s).one(s,o),se.bind(ne,e).bind(oe,t),g.removeClass(l+"off").addClass(l+"on")}function o(){t(),se.unbind(ne,e).unbind(oe,t),I.html(_.slideshowStart).unbind(s).one(s,function(){Q.next(),i()}),g.removeClass(l+"on").addClass(l+"off")}function n(){r=!1,I.hide(),t(),se.unbind(ne,e).unbind(oe,t),g.removeClass(l+"off "+l+"on")}var r,h,l=Z+"Slideshow_",s="click."+Z;return function(){r?_.slideshow||(se.unbind(re,n),n()):_.slideshow&&k[1]&&(r=!0,se.one(re,n),_.slideshowAuto?i():o(),I.show())}}();t.colorbox||(t(f),Q=t.fn[Y]=t[Y]=function(e,i){var o=this;if(e=e||{},f(),p()){if(t.isFunction(o))o=t("<a/>"),e.open=!0;else if(!o[0])return o;i&&(e.onComplete=i),o.each(function(){t.data(this,Y,t.extend({},t.data(this,Y)||X,e))}).addClass(te),(t.isFunction(e.open)&&e.open.call(o)||e.open)&&u(o[0])}return o},Q.position=function(e,i){function o(){x[0].style.width=C[0].style.width=y[0].style.width=parseInt(g[0].style.width,10)-O+"px",y[0].style.height=b[0].style.height=T[0].style.height=parseInt(g[0].style.height,10)-B+"px"}var r,l,s,a=0,d=0,c=g.offset();if(E.unbind("resize."+Z),g.css({top:-9e4,left:-9e4}),l=E.scrollTop(),s=E.scrollLeft(),_.fixed?(c.top-=l,c.left-=s,g.css({position:"fixed"})):(a=l,d=s,g.css({position:"absolute"})),d+=_.right!==!1?Math.max(E.width()-_.w-A-O-h(_.right,"x"),0):_.left!==!1?h(_.left,"x"):Math.round(Math.max(E.width()-_.w-A-O,0)/2),a+=_.bottom!==!1?Math.max(n()-_.h-D-B-h(_.bottom,"y"),0):_.top!==!1?h(_.top,"y"):Math.round(Math.max(n()-_.h-D-B,0)/2),g.css({top:c.top,left:c.left,visibility:"visible"}),v[0].style.width=v[0].style.height="9999px",r={width:_.w+A+O,height:_.h+D+B,top:a,left:d},e){var u=0;t.each(r,function(t){return r[t]!==ce[t]?(u=e,void 0):void 0}),e=u}ce=r,e||g.css(r),g.dequeue().animate(r,{duration:e||0,complete:function(){o(),$=!1,v[0].style.width=_.w+A+O+"px",v[0].style.height=_.h+D+B+"px",_.reposition&&setTimeout(function(){E.bind("resize."+Z,Q.position)},1),i&&i()},step:o})},Q.resize=function(t){var e;U&&(t=t||{},t.width&&(_.w=h(t.width,"x")-A-O),t.innerWidth&&(_.w=h(t.innerWidth,"x")),H.css({width:_.w}),t.height&&(_.h=h(t.height,"y")-D-B),t.innerHeight&&(_.h=h(t.innerHeight,"y")),t.innerHeight||t.height||(e=H.scrollTop(),H.css({height:"auto"}),_.h=H.height()),H.css({height:_.h}),e&&H.scrollTop(e),Q.position("none"===_.transition?0:_.speed))},Q.prep=function(i){function n(){return _.w=_.w||H.width(),_.w=_.mw&&_.mw<_.w?_.mw:_.w,_.w}function h(){return _.h=_.h||H.height(),_.h=_.mh&&_.mh<_.h?_.mh:_.h,_.h}if(U){var a,d="none"===_.transition?0:_.speed;H.empty().remove(),H=o(ae,"LoadedContent").append(i),H.hide().appendTo(W.show()).css({width:n(),overflow:_.scrolling?"auto":"hidden"}).css({height:h()}).prependTo(y),W.hide(),t(j).css({"float":"none"}),a=function(){function i(){t.support.opacity===!1&&g[0].style.removeAttribute("filter")}var n,h,a=k.length,u="frameBorder",f="allowTransparency";U&&(h=function(){clearTimeout(G),F.hide(),c(ne,_.onComplete)},L.html(_.title).add(H).show(),a>1?("string"==typeof _.current&&S.html(_.current.replace("{current}",z+1).replace("{total}",a)).show(),M[_.loop||a-1>z?"show":"hide"]().html(_.next),R[_.loop||z?"show":"hide"]().html(_.previous),ue(),_.preloading&&t.each([r(-1),r(1)],function(){var i,o,n=k[this],r=t.data(n,Y);r&&r.href?(i=r.href,t.isFunction(i)&&(i=i.call(n))):i=t(n).attr("href"),i&&l(r,i)&&(i=s(r,i),o=e.createElement("img"),o.src=i)})):P.hide(),_.iframe?(n=o("iframe")[0],u in n&&(n[u]=0),f in n&&(n[f]="true"),_.scrolling||(n.scrolling="no"),t(n).attr({src:_.href,name:(new Date).getTime(),"class":Z+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",h).appendTo(H),se.one(le,function(){n.src="//about:blank"}),_.fastIframe&&t(n).trigger("load")):h(),"fade"===_.transition?g.fadeTo(d,1,i):i())},"fade"===_.transition?g.fadeTo(d,0,function(){Q.position(0,a)}):Q.position(d,a)}},Q.next=function(){!$&&k[1]&&(_.loop||k[z+1])&&(z=r(1),u(k[z]))},Q.prev=function(){!$&&k[1]&&(_.loop||z)&&(z=r(-1),u(k[z]))},Q.close=function(){U&&!q&&(q=!0,U=!1,c(re,_.onCleanup),E.unbind("."+Z),w.fadeTo(_.fadeOut||0,0),g.stop().fadeTo(_.fadeOut||0,0,function(){g.add(w).css({opacity:1,cursor:"auto"}).hide(),c(le),H.empty().remove(),setTimeout(function(){q=!1,c(he,_.onClosed)},1)}))},Q.remove=function(){g&&(g.stop(),t.colorbox.close(),g.stop().remove(),w.remove(),q=!1,g=null,t("."+te).removeData(Y).removeClass(te),t(e).unbind("click."+Z))},Q.element=function(){return t(N)},Q.settings=X)})(jQuery,document,window);
